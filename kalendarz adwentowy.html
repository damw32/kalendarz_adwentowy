<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalendarz Adwentowy</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            background: url('https://www.pixelstalk.net/wp-content/uploads/2016/08/HD-1920x1080-Christmas-Image.jpg') no-repeat center center fixed;
            background-size: 100% 100%;
            color: white;
            position: relative;
        }

        h1 {
            font-family: 'Great Vibes', cursive;
            font-size: 65px;
            color: red;
            background: linear-gradient(45deg, #FF6347, #FFD700, #FF1493, #32CD32, #00BFFF);
            background-clip: text;
            animation: glitter 1.5s infinite;
            text-shadow: 3px 3px 10px rgba(255, 255, 255, 0.6), 0 0 25px rgba(255, 255, 255, 0.6);
            margin-top: 10px;
            margin-bottom: -10px;
            position: relative;
            z-index: 999;
        }

        @keyframes glitter {
            0% {
                background-position: -200% 0%;
            }
            100% {
                background-position: 200% 0%;
            }
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            max-width: 70%;
            margin: 20px auto;
        }

        .day {
            position: relative;
            perspective: 1000px;
            transform-style: preserve-3d;
            transition: transform 1s ease;
            cursor: pointer;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.8);
            color: #e63946;
            font-size: 16px;
            padding: 90px;
            border-radius: 5px;
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .day.locked {
            pointer-events: none;
            opacity: 0.5;
        }

        .day.opened {
            transform: rotateY(180deg);
        }

        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            border-radius: 5px;
        }

        .front {
            background: rgba(255, 255, 255, 0.8);
            color: #e63946;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        .back {
            background: linear-gradient(45deg, #e43206, #81ff47);
            color: white;
            transform: rotateY(180deg);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            align-items: center;
        }

        .countdown {
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 24px;
            color: white;
            font-weight: bold;
            z-index: 999;
        }

        .snowflake {
            position: fixed;
            z-index: 9999;
            pointer-events: none;
            font-size: 1em;
            color: white;
            animation: fall 10s linear infinite, side-to-side 3s ease-in-out infinite;
        }

        @keyframes fall {
            0% { transform: translateY(-20vh); }
            100% { transform: translateY(120vh); }
        }

        @keyframes side-to-side {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(20px); }
        }

        .back img {
            object-fit: cover; /* Obrazek zachowuje proporcje i wypeÅ‚nia przestrzeÅ„ */
            width: 100%;
            height: 100%;
            border-radius: 5px;
        }

        .star {
            position: fixed;
            z-index: 9999;
            pointer-events: none;
            font-size: 2em;
            color: yellow;
            animation: twinkle 1.5s infinite alternate;
            opacity: 0.8;
        }

        @keyframes twinkle {
            0% {
                opacity: 0.3;
                transform: scale(0.8);
            }
            100% {
                opacity: 1;
                transform: scale(1.2);
            }
        }

        .reset-button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #e63946;
            color: white;
            font-size: 18px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }

        .reset-button:hover {
            background-color: #d62828;
        }

        /* Choinka */
        .tree {
            width: 0;
            height: 0;
            border-left: 50px solid transparent;
            border-right: 50px solid transparent;
            border-bottom: 100px solid #228B22;
            position: absolute; /* Zmienione z 'relative' na 'absolute' */
            margin-bottom: 10px;
            display: inline-block;
            bottom: 50%; /* Ustawienie choinki na Å›rodku w pionie */
            transform: translateY(50%); /* WyrÃ³wnanie na Å›rodek w pionie */
        }
        /* Choinki na gÃ³rze */
.tree.top {
    position: absolute;
    top: 20%; /* Ustawienie choinki w gÃ³rnej czÄ™Å›ci */
    right: 2.3%;
    transform: translateX(-50%);
    z-index: 1000;
}

.tree.top1 {
    position: absolute;
    top: 20%; /* Ustawienie choinki w gÃ³rnej czÄ™Å›ci */
    left: 7.5%;
    transform: translateX(-50%);
    z-index: 1000;
}

/* Choinki na dole */
.tree.bottom {
    position: absolute;
    bottom: 5%; /* Ustawienie choinki w dolnej czÄ™Å›ci */
    left: 7.5%;
    transform: translateX(-50%);
    z-index: 1000;
}

.tree.bottom1 {
    position: absolute;
    bottom: 5%; /* Ustawienie choinki w dolnej czÄ™Å›ci */
    right: 2.3%;
    transform: translateX(-50%);
    z-index: 1000;
}

/* Choinki po lewej stronie */
.tree.left {
    position: absolute;
    top: 57.5%;
    left: 5%; /* Ustawienie choinki bardziej w lewo */
    transform: translateY(-50%);
    z-index: 1000;
}

/* Choinki po prawej stronie */
.tree.right {
    position: absolute;
    top: 57.5%;
    right: 5%; /* Ustawienie choinki bardziej w lewo */
    transform: translateY(-50%);
    z-index: 1000;
}

        .tree::before {
            content: '';
            position: absolute;
            top: -50px;
            left: -50px;
            width: 100px;
            height: 100px;
            background-color: #228B22;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .tree .trunk {
            width: 30px;
            height: 20px;
            background-color: #8B4513;
            position: absolute;
            bottom: -120px; /* PieÅ„ poniÅ¼ej choinki */
            left: 50%;
            transform: translateX(-50%);
        }

        /* Ozdoby na choince */
        .tree .decoration {
            position: absolute;
            background-color: red;
            border-radius: 50%;
            animation: blink 1s infinite alternate;
        }

        .tree .decoration-star {
            position: absolute;
            background-color: rgb(251, 255, 0);
            border-radius: 40%;
            animation: blink 1s infinite alternate;
        }

        .tree .decoration-star{
            top: -70px;
            left: 0px;
            width: 30px;
            height: 30px;
            background-color: yellow;
            clip-path: polygon(50% 0%, 65% 40%, 100% 40%, 70% 65%, 80% 100%, 50% 75%, 20% 100%, 30% 65%, 0% 40%, 35% 40%);
            transform: translateX(-50%);
        }

        .tree .decoration:nth-child(1) {
            top: 10px;
            left: -20px;
            width: 12px;
            height: 12px;
        }

        .tree .decoration:nth-child(2) {
            top: 40px;
            left: 10px;
            width: 12px;
            height: 12px;
        }

        .tree .decoration:nth-child(3) {
            top: 60px;
            left: -25px;
            width: 12px;
            height: 12px;
        }

        .tree .decoration:nth-child(4) {
            top: -10px;
            left: 5px;
            width: 12px;
            height: 12px;
        }

        @keyframes blink {
            0% {
                opacity: 0.3;
            }
            100% {
                opacity: 1;
            }
        }

        /* Stylizacja gwiazdki na czubku choinki */
.star-top {
    position: absolute;
    top: -40px; /* Umiejscowienie gwiazdki na czubku */
    left: 50%;
    transform: translateX(-50%);
    font-size: 2em;
    color: yellow;
    text-shadow: 0 0 10px yellow, 0 0 20px yellow, 0 0 30px yellow;
    animation: twinkle 1.5s infinite alternate;
    opacity: 0.8;
}

/* Animacja migotania gwiazdy */
@keyframes twinkle {
    0% {
        opacity: 0.3;
        transform: scale(0.8);
    }
    100% {
        opacity: 1;
        transform: scale(1.2);
    }
}
    </style>
</head>
<body>
    <h1>ðŸŽ€Kalendarz Adwentowy dla JulciðŸŽ€</h1>
    <div class="calendar"></div>
    <div class="countdown" id="countdown"></div>
    <button class="reset-button" id="resetButton">Zresetuj Kafelki</button>
    <div class="tree top">
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration-star"></div>
        <div class="trunk"></div> <!-- PieÅ„ choinki -->
    </div>

    <div class="tree top1">
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration-star"></div>
        <div class="trunk"></div> <!-- PieÅ„ choinki -->
    </div>
    
    <div class="tree left">
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration-star"></div>
        <div class="trunk"></div> <!-- PieÅ„ choinki -->
    </div>
    
    <div class="tree right">
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration-star"></div>
        <div class="trunk"></div> <!-- PieÅ„ choinki -->
    </div>
    
    <div class="tree bottom">
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration-star"></div>
        <div class="trunk"></div> <!-- PieÅ„ choinki -->
    </div>

    <div class="tree bottom1">
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration"></div>
        <div class="decoration-star"></div>
        <div class="trunk"></div> <!-- PieÅ„ choinki -->
    </div>
    <script>
// RÄ™cznie wpisane teksty na odwrocie kaÅ¼dego kafelka
        const calendarContainer = document.querySelector('.calendar');
        const daysInMonth = 24;

        // RÄ™cznie wpisane teksty na odwrocie kaÅ¼dego kafelka
        const backTexts = [
            "ðŸŽ„ Kocham CiÄ™ bubu za to, Å¼e jesteÅ› ðŸŽ", "â„ï¸ Niespodzianka 2 ðŸŒŸ", "ðŸŽ 3 lata i miesiÄ…c!! Jupiii!! Jeszcze caÅ‚a wiecznoÅ›Ä‡ przed nami!! ðŸŽ", "ðŸŽ Niespodzianka 4",
            "ðŸŽ Niespodzianka 5", "ðŸŽ JesteÅ› miÅ‚oÅ›ciÄ… mojego Å¼ycia ðŸŽ", "ðŸŽ Niespodzianka 7", "ðŸŽ Niespodzianka 8",
            "ðŸŽ Niespodzianka 9", "ðŸŽ Niespodzianka 10", "ðŸŽ Niespodzianka 11", "ðŸŽ Niespodzianka 12",
            "ðŸŽ Niespodzianka 13", "ðŸŽ Niespodzianka 14", "ðŸŽ Niespodzianka 15", "ðŸŽ Niespodzianka 16",
            "ðŸŽ Niespodzianka 17", "ðŸŽ Niespodzianka 18", "ðŸŽ Niespodzianka 19", "ðŸŽ Niespodzianka 20",
            "ðŸŽ Niespodzianka 21", "ðŸŽ Niespodzianka 22", "ðŸŽ Niespodzianka 23", "ðŸŽ Niespodzianka 24"
        ];

        // Dni, w ktÃ³rych na odwrocie bÄ™dzie obrazek
        const daysWithImage = [16, 20];  // PrzykÅ‚adowo, dni 5, 10, 15, 20

        // Obrazki przypisane do konkretnych dni
        const images = {
            16: 'https://via.placeholder.com/150/3357FF/FFFFFF?text=Obrazek+3', // Obrazek dla dnia 15
            20: 'https://via.placeholder.com/150/5733FF/FFFFFF?text=Obrazek+4'  // Obrazek dla dnia 20
        };

        // SprawdÅº, czy kolejnoÅ›Ä‡ kafelkÃ³w juÅ¼ istnieje w localStorage
        let randomOrder = JSON.parse(localStorage.getItem('randomOrder'));

        // JeÅ›li nie istnieje, losujemy kolejnoÅ›Ä‡ i zapisujemy jÄ… w localStorage
        if (!randomOrder) {
            randomOrder = Array.from({ length: daysInMonth }, (_, i) => i).sort(() => Math.random() - 0.5);
            localStorage.setItem('randomOrder', JSON.stringify(randomOrder));
        }

        // Wczytaj stan otwartych kafelkÃ³w z localStorage
        const openedDays = JSON.parse(localStorage.getItem('openedDays')) || [];

        randomOrder.forEach((randomDay, index) => {
            const day = randomDay + 1;  // Ustal numer dnia
            const dayElement = document.createElement('div');
            dayElement.classList.add('day');
            dayElement.dataset.day = day;

            const front = document.createElement('div');
            front.classList.add('front');
            front.textContent = day;

            const back = document.createElement('div');
            back.classList.add('back');

            // SprawdÅº, czy dzieÅ„ ma zawieraÄ‡ obrazek
            if (daysWithImage.includes(day)) {
                // Przypisz odpowiedni obrazek z tablicy `images`
                const img = document.createElement('img');
                img.src = images[day];  // Pobierz obrazek przypisany do danego dnia
                img.alt = `Obrazek na dzieÅ„ ${day}`;
                back.appendChild(img);
            } else {
                back.textContent = backTexts[index];  // RÄ™cznie przypisany tekst na odwrocie
            }

            dayElement.appendChild(front);
            dayElement.appendChild(back);

            const today = new Date();
            const currentDate = today.getDate();

            // SprawdÅº, czy dzisiejszy dzieÅ„ jest po 24 grudnia 2024
            const christmas = new Date(2024, 11, 24);
            const isAfterChristmas = today > christmas;

            if (day > currentDate && !isAfterChristmas) {
                dayElement.classList.add('locked'); // Kafelek zablokowany, jeÅ›li jest po dniu dzisiejszym
            }

            // JeÅ›li kafelek zostaÅ‚ wczeÅ›niej otwarty, oznacz go jako otwarty
            if (openedDays.includes(day)) {
                dayElement.classList.add('opened');
            }

            // Dodaj kafelek do kalendarza
            calendarContainer.appendChild(dayElement);

            // Dodaj obsÅ‚ugÄ™ klikniÄ™cia
            dayElement.addEventListener('click', function() {
                if (dayElement.classList.contains('opened') || dayElement.classList.contains('locked')) return;

                dayElement.classList.add('opened');

                // Zapisz otwarty kafelek w localStorage
                if (!openedDays.includes(day)) {
                    openedDays.push(day);
                    localStorage.setItem('openedDays', JSON.stringify(openedDays));
                }
            });
        });

        function updateCountdown() {
            const today = new Date();
            const christmas = new Date(2024, 11, 24); // 24 grudnia 2024

            if (today.getDate() === christmas.getDate() && today.getMonth() === christmas.getMonth() && today.getFullYear() === christmas.getFullYear()) {
                // WyÅ›wietl "Wigilia!!!" jeÅ›li dzisiaj jest 24 grudnia 2024
                document.getElementById('countdown').textContent = "Wigilia!!!";
            } else if (today > christmas) {
                // WyÅ›wietl "JuÅ¼ po Wigilii :(" jeÅ›li dzisiaj jest po 24 grudnia 2024
                document.getElementById('countdown').textContent = "JuÅ¼ po Wigilii :(";
            } else {
                // Odliczaj dni do Wigilii jeÅ›li dzisiaj jest przed 24 grudnia 2024
                const timeDiff = christmas - today;
                const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
                document.getElementById('countdown').textContent = `PozostaÅ‚o ${days + 1} dni do Wigilii!`;
            }
        }

        updateCountdown();
        setInterval(updateCountdown, 60000);

        // Funkcja resetujÄ…ca kafelki
        document.getElementById('resetButton').addEventListener('click', function() {
            // Po 24 grudnia 2024 resetowanie bÄ™dzie moÅ¼liwe
            const today = new Date();
            const christmas = new Date(2024, 11, 24);

            // Resetowanie kafelkÃ³w po 24 grudnia
            if (today > christmas) {
                localStorage.removeItem('openedDays'); // UsuniÄ™cie zapisanych otwartych kafelkÃ³w
                const allDays = document.querySelectorAll('.day');
                allDays.forEach(day => {
                    day.classList.remove('opened'); // UsuniÄ™cie klasy "opened" z wszystkich kafelkÃ³w
                });
            } else {
                // Resetowanie tylko przed 24 grudnia
                localStorage.removeItem('openedDays');
                const allDays = document.querySelectorAll('.day');
                allDays.forEach(day => {
                    day.classList.remove('opened');
                });
            }
        });

        // Funkcja tworzÄ…ca Å›nieÅ¼ynki
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            snowflake.textContent = 'â„';
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.top = Math.random() * 100 + 'vh';
            snowflake.style.opacity = Math.random();
            snowflake.style.fontSize = Math.random() * 30 + 20 + 'px';
            document.body.appendChild(snowflake);
            setTimeout(() => {
                snowflake.remove();
            }, 10000);
        }

        setInterval(createSnowflake, 150);

        // function createStar() {
        //     const star = document.createElement('div');
        //     star.classList.add('star');
        //     star.textContent = 'â˜…';
        //     star.style.left = Math.random() * 100 + 'vw';
        //     star.style.top = Math.random() * 100 + 'vh';
        //     star.style.fontSize = Math.random() * 15 + 15 + 'px';
        //     document.body.appendChild(star);
        //     setTimeout(() => {
        //         star.remove();
        //     }, 2000);
        // }

        // setInterval(createStar, 200);
    </script>
</body>
</html>
